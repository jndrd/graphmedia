/* archivo.c generated by valac 0.26.0, the Vala compiler
 * generated from archivo.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <float.h>
#include <math.h>
#include <sqlite3.h>
#include <gee.h>
#include <gobject/gvaluecollector.h>


#define GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO (graph_media_modelos_archivo_get_type ())
#define GRAPH_MEDIA_MODELOS_ARCHIVO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO, GraphMediaModelosArchivo))
#define GRAPH_MEDIA_MODELOS_ARCHIVO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO, GraphMediaModelosArchivoClass))
#define GRAPH_MEDIA_MODELOS_IS_ARCHIVO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO))
#define GRAPH_MEDIA_MODELOS_IS_ARCHIVO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO))
#define GRAPH_MEDIA_MODELOS_ARCHIVO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO, GraphMediaModelosArchivoClass))

typedef struct _GraphMediaModelosArchivo GraphMediaModelosArchivo;
typedef struct _GraphMediaModelosArchivoClass GraphMediaModelosArchivoClass;
typedef struct _GraphMediaModelosArchivoPrivate GraphMediaModelosArchivoPrivate;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))

#define GRAPH_MEDIA_MODELOS_TYPE_CANCION (graph_media_modelos_cancion_get_type ())
#define GRAPH_MEDIA_MODELOS_CANCION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_CANCION, GraphMediaModelosCancion))
#define GRAPH_MEDIA_MODELOS_CANCION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_CANCION, GraphMediaModelosCancionClass))
#define GRAPH_MEDIA_MODELOS_IS_CANCION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_CANCION))
#define GRAPH_MEDIA_MODELOS_IS_CANCION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_CANCION))
#define GRAPH_MEDIA_MODELOS_CANCION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_CANCION, GraphMediaModelosCancionClass))

typedef struct _GraphMediaModelosCancion GraphMediaModelosCancion;
typedef struct _GraphMediaModelosCancionClass GraphMediaModelosCancionClass;
#define _graph_media_modelos_archivo_unref0(var) ((var == NULL) ? NULL : (var = (graph_media_modelos_archivo_unref (var), NULL)))

#define GRAPH_MEDIA_MODELOS_TYPE_IMAGEN (graph_media_modelos_imagen_get_type ())
#define GRAPH_MEDIA_MODELOS_IMAGEN(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_IMAGEN, GraphMediaModelosImagen))
#define GRAPH_MEDIA_MODELOS_IMAGEN_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_IMAGEN, GraphMediaModelosImagenClass))
#define GRAPH_MEDIA_MODELOS_IS_IMAGEN(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_IMAGEN))
#define GRAPH_MEDIA_MODELOS_IS_IMAGEN_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_IMAGEN))
#define GRAPH_MEDIA_MODELOS_IMAGEN_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_IMAGEN, GraphMediaModelosImagenClass))

typedef struct _GraphMediaModelosImagen GraphMediaModelosImagen;
typedef struct _GraphMediaModelosImagenClass GraphMediaModelosImagenClass;
typedef struct _GraphMediaModelosParamSpecArchivo GraphMediaModelosParamSpecArchivo;

#define GRAPH_MEDIA_MODELOS_TYPE_TABLAS (graph_media_modelos_tablas_get_type ())
#define GRAPH_MEDIA_MODELOS_TABLAS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_TABLAS, GraphMediaModelosTablas))
#define GRAPH_MEDIA_MODELOS_TABLAS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_TABLAS, GraphMediaModelosTablasClass))
#define GRAPH_MEDIA_MODELOS_IS_TABLAS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_TABLAS))
#define GRAPH_MEDIA_MODELOS_IS_TABLAS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_TABLAS))
#define GRAPH_MEDIA_MODELOS_TABLAS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_TABLAS, GraphMediaModelosTablasClass))

typedef struct _GraphMediaModelosTablas GraphMediaModelosTablas;
typedef struct _GraphMediaModelosTablasClass GraphMediaModelosTablasClass;
typedef struct _GraphMediaModelosTablasPrivate GraphMediaModelosTablasPrivate;

#define GRAPH_MEDIA_MODELOS_TYPE_TABLA_ARCHIVO (graph_media_modelos_tabla_archivo_get_type ())
#define GRAPH_MEDIA_MODELOS_TABLA_ARCHIVO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_TABLA_ARCHIVO, GraphMediaModelosTablaArchivo))
#define GRAPH_MEDIA_MODELOS_TABLA_ARCHIVO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_TABLA_ARCHIVO, GraphMediaModelosTablaArchivoClass))
#define GRAPH_MEDIA_MODELOS_IS_TABLA_ARCHIVO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_TABLA_ARCHIVO))
#define GRAPH_MEDIA_MODELOS_IS_TABLA_ARCHIVO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_TABLA_ARCHIVO))
#define GRAPH_MEDIA_MODELOS_TABLA_ARCHIVO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_TABLA_ARCHIVO, GraphMediaModelosTablaArchivoClass))

typedef struct _GraphMediaModelosTablaArchivo GraphMediaModelosTablaArchivo;
typedef struct _GraphMediaModelosTablaArchivoClass GraphMediaModelosTablaArchivoClass;
typedef struct _GraphMediaModelosTablaArchivoPrivate GraphMediaModelosTablaArchivoPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _sqlite3_finalize0(var) ((var == NULL) ? NULL : (var = (sqlite3_finalize (var), NULL)))
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

typedef enum  {
	GRAPH_MEDIA_MODELOS_ERROR_ARCHIVO_NO_ENCONTRADO
} GraphMediaModelosErrorArchivo;
#define GRAPH_MEDIA_MODELOS_ERROR_ARCHIVO graph_media_modelos_error_archivo_quark ()
struct _GraphMediaModelosArchivo {
	GTypeInstance parent_instance;
	volatile int ref_count;
	GraphMediaModelosArchivoPrivate * priv;
	gint64 id;
	gchar* nombre;
	gchar* ubicacion;
	gchar* tipo;
	gchar* u_acceso;
	gdouble popularidad;
	gboolean disponible;
};

struct _GraphMediaModelosArchivoClass {
	GTypeClass parent_class;
	void (*finalize) (GraphMediaModelosArchivo *self);
};

struct _GraphMediaModelosParamSpecArchivo {
	GParamSpec parent_instance;
};

struct _GraphMediaModelosTablas {
	GObject parent_instance;
	GraphMediaModelosTablasPrivate * priv;
	gchar* nombre_tabla;
};

struct _GraphMediaModelosTablasClass {
	GObjectClass parent_class;
};

struct _GraphMediaModelosTablaArchivo {
	GraphMediaModelosTablas parent_instance;
	GraphMediaModelosTablaArchivoPrivate * priv;
};

struct _GraphMediaModelosTablaArchivoClass {
	GraphMediaModelosTablasClass parent_class;
};

typedef enum  {
	GRAPH_MEDIA_MODELOS_ERROR_BASE_DATOS_ARCHIVO_NO_ENCONTRADO,
	GRAPH_MEDIA_MODELOS_ERROR_BASE_DATOS_ARCHIVO_INVALIDO,
	GRAPH_MEDIA_MODELOS_ERROR_BASE_DATOS_CONSULTA
} GraphMediaModelosErrorBaseDatos;
#define GRAPH_MEDIA_MODELOS_ERROR_BASE_DATOS graph_media_modelos_error_base_datos_quark ()

static gpointer graph_media_modelos_archivo_parent_class = NULL;
static gpointer graph_media_modelos_tabla_archivo_parent_class = NULL;
static GraphMediaModelosTablaArchivo* graph_media_modelos_tabla_archivo_instancia;
static GraphMediaModelosTablaArchivo* graph_media_modelos_tabla_archivo_instancia = NULL;
extern sqlite3* graph_media_modelos_tablas_bd;

GQuark graph_media_modelos_error_archivo_quark (void);
gpointer graph_media_modelos_archivo_ref (gpointer instance);
void graph_media_modelos_archivo_unref (gpointer instance);
GParamSpec* graph_media_modelos_param_spec_archivo (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void graph_media_modelos_value_set_archivo (GValue* value, gpointer v_object);
void graph_media_modelos_value_take_archivo (GValue* value, gpointer v_object);
gpointer graph_media_modelos_value_get_archivo (const GValue* value);
GType graph_media_modelos_archivo_get_type (void) G_GNUC_CONST;
enum  {
	GRAPH_MEDIA_MODELOS_ARCHIVO_DUMMY_PROPERTY
};
GraphMediaModelosArchivo* graph_media_modelos_archivo_new (void);
GraphMediaModelosArchivo* graph_media_modelos_archivo_construct (GType object_type);
void graph_media_modelos_archivo_actualizar_u_acceso (GraphMediaModelosArchivo* self);
GType graph_media_modelos_cancion_get_type (void) G_GNUC_CONST;
GraphMediaModelosCancion* graph_media_modelos_archivo_cast_cancion (GraphMediaModelosArchivo* a);
GraphMediaModelosCancion* graph_media_modelos_cancion_new (void);
GraphMediaModelosCancion* graph_media_modelos_cancion_construct (GType object_type);
GType graph_media_modelos_imagen_get_type (void) G_GNUC_CONST;
GraphMediaModelosImagen* graph_media_modelos_archivo_cast_imagen (GraphMediaModelosArchivo* a);
GraphMediaModelosImagen* graph_media_modelos_imagen_new (void);
GraphMediaModelosImagen* graph_media_modelos_imagen_construct (GType object_type);
gboolean graph_media_modelos_archivo_es_valido (GraphMediaModelosArchivo* self);
static void graph_media_modelos_archivo_finalize (GraphMediaModelosArchivo* obj);
GType graph_media_modelos_tablas_get_type (void) G_GNUC_CONST;
GType graph_media_modelos_tabla_archivo_get_type (void) G_GNUC_CONST;
enum  {
	GRAPH_MEDIA_MODELOS_TABLA_ARCHIVO_DUMMY_PROPERTY
};
GraphMediaModelosTablaArchivo* graph_media_modelos_tabla_archivo_new (void);
GraphMediaModelosTablaArchivo* graph_media_modelos_tabla_archivo_construct (GType object_type);
GraphMediaModelosTablas* graph_media_modelos_tablas_construct (GType object_type);
void graph_media_modelos_tablas_set_nombre_tabla (GraphMediaModelosTablas* self, const gchar* nombre_tabla);
GraphMediaModelosTablaArchivo* graph_media_modelos_tabla_archivo_get_instancia (void);
GraphMediaModelosArchivo* graph_media_modelos_tabla_archivo_agregar (GraphMediaModelosTablaArchivo* self, GraphMediaModelosArchivo* archivo);
GQuark graph_media_modelos_error_base_datos_quark (void);
GraphMediaModelosArchivo* graph_media_modelos_tabla_archivo_eliminar (GraphMediaModelosTablaArchivo* self, GraphMediaModelosArchivo* p, GError** error);
gboolean graph_media_modelos_tablas_eliminar_celda_por_id (GraphMediaModelosTablas* self, gint64 id);
GeeList* graph_media_modelos_tabla_archivo_buscar (GraphMediaModelosTablaArchivo* self, const gchar* where);
gboolean graph_media_modelos_tabla_archivo_editar (GraphMediaModelosTablaArchivo* self, GraphMediaModelosArchivo* p);
GraphMediaModelosArchivo* graph_media_modelos_tabla_archivo_get_archivo_id (GraphMediaModelosTablaArchivo* self, gint64 id);
gint graph_media_modelos_tabla_archivo_get_total_archivos (GraphMediaModelosTablaArchivo* self);
gint graph_media_modelos_tablas_get_total_celdas (GraphMediaModelosTablas* self, const gchar* columna);
gint graph_media_modelos_tabla_archivo_get_total_tipo (GraphMediaModelosTablaArchivo* self, const gchar* tipo);
GeeArrayList* graph_media_modelos_tabla_archivo_get_archivos (GraphMediaModelosTablaArchivo* self, const gchar* where, gint limite, const gchar* orden);
static void graph_media_modelos_tabla_archivo_finalize (GObject* obj);


GQuark graph_media_modelos_error_archivo_quark (void) {
	return g_quark_from_static_string ("graph_media_modelos_error_archivo-quark");
}


GraphMediaModelosArchivo* graph_media_modelos_archivo_construct (GType object_type) {
	GraphMediaModelosArchivo* self = NULL;
	self = (GraphMediaModelosArchivo*) g_type_create_instance (object_type);
	graph_media_modelos_archivo_actualizar_u_acceso (self);
	self->disponible = FALSE;
	return self;
}


GraphMediaModelosArchivo* graph_media_modelos_archivo_new (void) {
	return graph_media_modelos_archivo_construct (GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO);
}


/**
* Actualiza la cadena que representa la fecha del ultimo acceso al archivo
*/
static gchar* g_date_time_to_string (GDateTime* self) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = g_date_time_format (self, "%FT%H:%M:%S%z");
	result = _tmp0_;
	return result;
}


void graph_media_modelos_archivo_actualizar_u_acceso (GraphMediaModelosArchivo* self) {
	GDateTime* _tmp0_ = NULL;
	GDateTime* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = g_date_time_new_now_local ();
	_tmp1_ = _tmp0_;
	_tmp2_ = g_date_time_to_string (_tmp1_);
	_g_free0 (self->u_acceso);
	self->u_acceso = _tmp2_;
	_g_date_time_unref0 (_tmp1_);
}


GraphMediaModelosCancion* graph_media_modelos_archivo_cast_cancion (GraphMediaModelosArchivo* a) {
	GraphMediaModelosCancion* result = NULL;
	GraphMediaModelosArchivo* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GraphMediaModelosArchivo* _tmp2_ = NULL;
	gint64 _tmp3_ = 0LL;
	GraphMediaModelosCancion* c = NULL;
	GraphMediaModelosCancion* _tmp4_ = NULL;
	GraphMediaModelosArchivo* _tmp5_ = NULL;
	gint64 _tmp6_ = 0LL;
	GraphMediaModelosArchivo* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
	GraphMediaModelosArchivo* _tmp10_ = NULL;
	const gchar* _tmp11_ = NULL;
	gchar* _tmp12_ = NULL;
	GraphMediaModelosArchivo* _tmp13_ = NULL;
	const gchar* _tmp14_ = NULL;
	gchar* _tmp15_ = NULL;
	GraphMediaModelosArchivo* _tmp16_ = NULL;
	const gchar* _tmp17_ = NULL;
	gchar* _tmp18_ = NULL;
	GraphMediaModelosArchivo* _tmp19_ = NULL;
	gdouble _tmp20_ = 0.0;
	GraphMediaModelosArchivo* _tmp21_ = NULL;
	gboolean _tmp22_ = FALSE;
	g_return_val_if_fail (a != NULL, NULL);
	_tmp0_ = a;
	_tmp1_ = _tmp0_->tipo;
	_vala_assert (g_strcmp0 (_tmp1_, "audio") == 0, "a.tipo == \"audio\"");
	_tmp2_ = a;
	_tmp3_ = _tmp2_->id;
	_vala_assert (_tmp3_ != ((gint64) (-1)), "a.id != -1");
	_tmp4_ = graph_media_modelos_cancion_new ();
	c = _tmp4_;
	_tmp5_ = a;
	_tmp6_ = _tmp5_->id;
	((GraphMediaModelosArchivo*) c)->id = _tmp6_;
	_tmp7_ = a;
	_tmp8_ = _tmp7_->nombre;
	_tmp9_ = g_strdup (_tmp8_);
	_g_free0 (((GraphMediaModelosArchivo*) c)->nombre);
	((GraphMediaModelosArchivo*) c)->nombre = _tmp9_;
	_tmp10_ = a;
	_tmp11_ = _tmp10_->ubicacion;
	_tmp12_ = g_strdup (_tmp11_);
	_g_free0 (((GraphMediaModelosArchivo*) c)->ubicacion);
	((GraphMediaModelosArchivo*) c)->ubicacion = _tmp12_;
	_tmp13_ = a;
	_tmp14_ = _tmp13_->tipo;
	_tmp15_ = g_strdup (_tmp14_);
	_g_free0 (((GraphMediaModelosArchivo*) c)->tipo);
	((GraphMediaModelosArchivo*) c)->tipo = _tmp15_;
	_tmp16_ = a;
	_tmp17_ = _tmp16_->u_acceso;
	_tmp18_ = g_strdup (_tmp17_);
	_g_free0 (((GraphMediaModelosArchivo*) c)->u_acceso);
	((GraphMediaModelosArchivo*) c)->u_acceso = _tmp18_;
	_tmp19_ = a;
	_tmp20_ = _tmp19_->popularidad;
	((GraphMediaModelosArchivo*) c)->popularidad = _tmp20_;
	_tmp21_ = a;
	_tmp22_ = _tmp21_->disponible;
	((GraphMediaModelosArchivo*) c)->disponible = _tmp22_;
	result = c;
	return result;
}


GraphMediaModelosImagen* graph_media_modelos_archivo_cast_imagen (GraphMediaModelosArchivo* a) {
	GraphMediaModelosImagen* result = NULL;
	GraphMediaModelosArchivo* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GraphMediaModelosArchivo* _tmp2_ = NULL;
	gint64 _tmp3_ = 0LL;
	GraphMediaModelosImagen* c = NULL;
	GraphMediaModelosImagen* _tmp4_ = NULL;
	GraphMediaModelosArchivo* _tmp5_ = NULL;
	gint64 _tmp6_ = 0LL;
	GraphMediaModelosArchivo* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
	GraphMediaModelosArchivo* _tmp10_ = NULL;
	const gchar* _tmp11_ = NULL;
	gchar* _tmp12_ = NULL;
	GraphMediaModelosArchivo* _tmp13_ = NULL;
	const gchar* _tmp14_ = NULL;
	gchar* _tmp15_ = NULL;
	GraphMediaModelosArchivo* _tmp16_ = NULL;
	const gchar* _tmp17_ = NULL;
	gchar* _tmp18_ = NULL;
	GraphMediaModelosArchivo* _tmp19_ = NULL;
	gdouble _tmp20_ = 0.0;
	GraphMediaModelosArchivo* _tmp21_ = NULL;
	gboolean _tmp22_ = FALSE;
	g_return_val_if_fail (a != NULL, NULL);
	_tmp0_ = a;
	_tmp1_ = _tmp0_->tipo;
	_vala_assert (g_strcmp0 (_tmp1_, "imagen") == 0, "a.tipo == \"imagen\"");
	_tmp2_ = a;
	_tmp3_ = _tmp2_->id;
	_vala_assert (_tmp3_ != ((gint64) (-1)), "a.id != -1");
	_tmp4_ = graph_media_modelos_imagen_new ();
	c = _tmp4_;
	_tmp5_ = a;
	_tmp6_ = _tmp5_->id;
	((GraphMediaModelosArchivo*) c)->id = _tmp6_;
	_tmp7_ = a;
	_tmp8_ = _tmp7_->nombre;
	_tmp9_ = g_strdup (_tmp8_);
	_g_free0 (((GraphMediaModelosArchivo*) c)->nombre);
	((GraphMediaModelosArchivo*) c)->nombre = _tmp9_;
	_tmp10_ = a;
	_tmp11_ = _tmp10_->ubicacion;
	_tmp12_ = g_strdup (_tmp11_);
	_g_free0 (((GraphMediaModelosArchivo*) c)->ubicacion);
	((GraphMediaModelosArchivo*) c)->ubicacion = _tmp12_;
	_tmp13_ = a;
	_tmp14_ = _tmp13_->tipo;
	_tmp15_ = g_strdup (_tmp14_);
	_g_free0 (((GraphMediaModelosArchivo*) c)->tipo);
	((GraphMediaModelosArchivo*) c)->tipo = _tmp15_;
	_tmp16_ = a;
	_tmp17_ = _tmp16_->u_acceso;
	_tmp18_ = g_strdup (_tmp17_);
	_g_free0 (((GraphMediaModelosArchivo*) c)->u_acceso);
	((GraphMediaModelosArchivo*) c)->u_acceso = _tmp18_;
	_tmp19_ = a;
	_tmp20_ = _tmp19_->popularidad;
	((GraphMediaModelosArchivo*) c)->popularidad = _tmp20_;
	_tmp21_ = a;
	_tmp22_ = _tmp21_->disponible;
	((GraphMediaModelosArchivo*) c)->disponible = _tmp22_;
	result = c;
	return result;
}


gboolean graph_media_modelos_archivo_es_valido (GraphMediaModelosArchivo* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gint64 _tmp3_ = 0LL;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp3_ = self->id;
	if (_tmp3_ > ((gint64) 0)) {
		const gchar* _tmp4_ = NULL;
		_tmp4_ = self->nombre;
		_tmp2_ = _tmp4_ != NULL;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		const gchar* _tmp5_ = NULL;
		_tmp5_ = self->nombre;
		_tmp1_ = g_strcmp0 (_tmp5_, "") != 0;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		gboolean _tmp6_ = FALSE;
		const gchar* _tmp7_ = NULL;
		_tmp7_ = self->tipo;
		if (g_strcmp0 (_tmp7_, "audio") == 0) {
			_tmp6_ = TRUE;
		} else {
			const gchar* _tmp8_ = NULL;
			_tmp8_ = self->tipo;
			_tmp6_ = g_strcmp0 (_tmp8_, "imagen") == 0;
		}
		_tmp0_ = _tmp6_;
	} else {
		_tmp0_ = FALSE;
	}
	result = _tmp0_;
	return result;
}


static void graph_media_modelos_value_archivo_init (GValue* value) {
	value->data[0].v_pointer = NULL;
}


static void graph_media_modelos_value_archivo_free_value (GValue* value) {
	if (value->data[0].v_pointer) {
		graph_media_modelos_archivo_unref (value->data[0].v_pointer);
	}
}


static void graph_media_modelos_value_archivo_copy_value (const GValue* src_value, GValue* dest_value) {
	if (src_value->data[0].v_pointer) {
		dest_value->data[0].v_pointer = graph_media_modelos_archivo_ref (src_value->data[0].v_pointer);
	} else {
		dest_value->data[0].v_pointer = NULL;
	}
}


static gpointer graph_media_modelos_value_archivo_peek_pointer (const GValue* value) {
	return value->data[0].v_pointer;
}


static gchar* graph_media_modelos_value_archivo_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	if (collect_values[0].v_pointer) {
		GraphMediaModelosArchivo* object;
		object = collect_values[0].v_pointer;
		if (object->parent_instance.g_class == NULL) {
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
		}
		value->data[0].v_pointer = graph_media_modelos_archivo_ref (object);
	} else {
		value->data[0].v_pointer = NULL;
	}
	return NULL;
}


static gchar* graph_media_modelos_value_archivo_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	GraphMediaModelosArchivo** object_p;
	object_p = collect_values[0].v_pointer;
	if (!object_p) {
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
	}
	if (!value->data[0].v_pointer) {
		*object_p = NULL;
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
		*object_p = value->data[0].v_pointer;
	} else {
		*object_p = graph_media_modelos_archivo_ref (value->data[0].v_pointer);
	}
	return NULL;
}


GParamSpec* graph_media_modelos_param_spec_archivo (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	GraphMediaModelosParamSpecArchivo* spec;
	g_return_val_if_fail (g_type_is_a (object_type, GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO), NULL);
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
	G_PARAM_SPEC (spec)->value_type = object_type;
	return G_PARAM_SPEC (spec);
}


gpointer graph_media_modelos_value_get_archivo (const GValue* value) {
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO), NULL);
	return value->data[0].v_pointer;
}


void graph_media_modelos_value_set_archivo (GValue* value, gpointer v_object) {
	GraphMediaModelosArchivo* old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
		graph_media_modelos_archivo_ref (value->data[0].v_pointer);
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		graph_media_modelos_archivo_unref (old);
	}
}


void graph_media_modelos_value_take_archivo (GValue* value, gpointer v_object) {
	GraphMediaModelosArchivo* old;
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO));
	old = value->data[0].v_pointer;
	if (v_object) {
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO));
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
		value->data[0].v_pointer = v_object;
	} else {
		value->data[0].v_pointer = NULL;
	}
	if (old) {
		graph_media_modelos_archivo_unref (old);
	}
}


static void graph_media_modelos_archivo_class_init (GraphMediaModelosArchivoClass * klass) {
	graph_media_modelos_archivo_parent_class = g_type_class_peek_parent (klass);
	((GraphMediaModelosArchivoClass *) klass)->finalize = graph_media_modelos_archivo_finalize;
}


static void graph_media_modelos_archivo_instance_init (GraphMediaModelosArchivo * self) {
	self->ref_count = 1;
}


static void graph_media_modelos_archivo_finalize (GraphMediaModelosArchivo* obj) {
	GraphMediaModelosArchivo * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO, GraphMediaModelosArchivo);
	g_signal_handlers_destroy (self);
	_g_free0 (self->nombre);
	_g_free0 (self->ubicacion);
	_g_free0 (self->tipo);
	_g_free0 (self->u_acceso);
}


/**
* Clase que modela un archivo dentro de la base de datos
* permite modificar sus atributos directamente exepto las fechas 
* las cuales se actualizan programaticamente para evitar conflictos
*/
GType graph_media_modelos_archivo_get_type (void) {
	static volatile gsize graph_media_modelos_archivo_type_id__volatile = 0;
	if (g_once_init_enter (&graph_media_modelos_archivo_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { graph_media_modelos_value_archivo_init, graph_media_modelos_value_archivo_free_value, graph_media_modelos_value_archivo_copy_value, graph_media_modelos_value_archivo_peek_pointer, "p", graph_media_modelos_value_archivo_collect_value, "p", graph_media_modelos_value_archivo_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (GraphMediaModelosArchivoClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) graph_media_modelos_archivo_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraphMediaModelosArchivo), 0, (GInstanceInitFunc) graph_media_modelos_archivo_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType graph_media_modelos_archivo_type_id;
		graph_media_modelos_archivo_type_id = g_type_register_fundamental (g_type_fundamental_next (), "GraphMediaModelosArchivo", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&graph_media_modelos_archivo_type_id__volatile, graph_media_modelos_archivo_type_id);
	}
	return graph_media_modelos_archivo_type_id__volatile;
}


gpointer graph_media_modelos_archivo_ref (gpointer instance) {
	GraphMediaModelosArchivo* self;
	self = instance;
	g_atomic_int_inc (&self->ref_count);
	return instance;
}


void graph_media_modelos_archivo_unref (gpointer instance) {
	GraphMediaModelosArchivo* self;
	self = instance;
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
		GRAPH_MEDIA_MODELOS_ARCHIVO_GET_CLASS (self)->finalize (self);
		g_type_free_instance ((GTypeInstance *) self);
	}
}


GraphMediaModelosTablaArchivo* graph_media_modelos_tabla_archivo_construct (GType object_type) {
	GraphMediaModelosTablaArchivo * self = NULL;
	self = (GraphMediaModelosTablaArchivo*) graph_media_modelos_tablas_construct (object_type);
	graph_media_modelos_tablas_set_nombre_tabla ((GraphMediaModelosTablas*) self, "archivos");
	return self;
}


GraphMediaModelosTablaArchivo* graph_media_modelos_tabla_archivo_new (void) {
	return graph_media_modelos_tabla_archivo_construct (GRAPH_MEDIA_MODELOS_TYPE_TABLA_ARCHIVO);
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


GraphMediaModelosTablaArchivo* graph_media_modelos_tabla_archivo_get_instancia (void) {
	GraphMediaModelosTablaArchivo* result = NULL;
	GraphMediaModelosTablaArchivo* _tmp0_ = NULL;
	GraphMediaModelosTablaArchivo* _tmp2_ = NULL;
	GraphMediaModelosTablaArchivo* _tmp3_ = NULL;
	_tmp0_ = graph_media_modelos_tabla_archivo_instancia;
	if (_tmp0_ == NULL) {
		GraphMediaModelosTablaArchivo* _tmp1_ = NULL;
		_tmp1_ = graph_media_modelos_tabla_archivo_new ();
		_g_object_unref0 (graph_media_modelos_tabla_archivo_instancia);
		graph_media_modelos_tabla_archivo_instancia = _tmp1_;
	}
	_tmp2_ = graph_media_modelos_tabla_archivo_instancia;
	_tmp3_ = _g_object_ref0 (_tmp2_);
	result = _tmp3_;
	return result;
}


/**
* Agrega una archivo nueva a la base de datos 
*/
static gpointer _graph_media_modelos_archivo_ref0 (gpointer self) {
	return self ? graph_media_modelos_archivo_ref (self) : NULL;
}


GraphMediaModelosArchivo* graph_media_modelos_tabla_archivo_agregar (GraphMediaModelosTablaArchivo* self, GraphMediaModelosArchivo* archivo) {
	GraphMediaModelosArchivo* result = NULL;
	sqlite3_stmt* query = NULL;
	gint res = 0;
	sqlite3* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	sqlite3_stmt* _tmp6_ = NULL;
	gint _tmp7_ = 0;
	gint _tmp8_ = 0;
	gint _tmp9_ = 0;
	sqlite3_stmt* _tmp10_ = NULL;
	GraphMediaModelosArchivo* _tmp11_ = NULL;
	const gchar* _tmp12_ = NULL;
	gchar* _tmp13_ = NULL;
	GDestroyNotify _tmp14_ = NULL;
	gint _tmp15_ = 0;
	gint _tmp16_ = 0;
	sqlite3_stmt* _tmp17_ = NULL;
	GraphMediaModelosArchivo* _tmp18_ = NULL;
	const gchar* _tmp19_ = NULL;
	gchar* _tmp20_ = NULL;
	GDestroyNotify _tmp21_ = NULL;
	gint _tmp22_ = 0;
	gint _tmp23_ = 0;
	sqlite3_stmt* _tmp24_ = NULL;
	GraphMediaModelosArchivo* _tmp25_ = NULL;
	const gchar* _tmp26_ = NULL;
	gchar* _tmp27_ = NULL;
	GDestroyNotify _tmp28_ = NULL;
	gint _tmp29_ = 0;
	gint _tmp30_ = 0;
	sqlite3_stmt* _tmp31_ = NULL;
	GraphMediaModelosArchivo* _tmp32_ = NULL;
	const gchar* _tmp33_ = NULL;
	gchar* _tmp34_ = NULL;
	GDestroyNotify _tmp35_ = NULL;
	gint _tmp36_ = 0;
	gint _tmp37_ = 0;
	sqlite3_stmt* _tmp38_ = NULL;
	GraphMediaModelosArchivo* _tmp39_ = NULL;
	gdouble _tmp40_ = 0.0;
	gint _tmp41_ = 0;
	gint _tmp42_ = 0;
	gint _tmp43_ = 0;
	GraphMediaModelosArchivo* _tmp44_ = NULL;
	gboolean _tmp45_ = FALSE;
	gint dis = 0;
	sqlite3_stmt* _tmp46_ = NULL;
	gint _tmp47_ = 0;
	gint _tmp48_ = 0;
	sqlite3_stmt* _tmp49_ = NULL;
	gint _tmp50_ = 0;
	gint _tmp51_ = 0;
	GraphMediaModelosArchivo* _tmp52_ = NULL;
	sqlite3* _tmp53_ = NULL;
	gint64 _tmp54_ = 0LL;
	GraphMediaModelosArchivo* _tmp55_ = NULL;
	GraphMediaModelosArchivo* _tmp56_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (archivo != NULL, NULL);
	_tmp0_ = graph_media_modelos_tablas_bd;
	_tmp1_ = ((GraphMediaModelosTablas*) self)->nombre_tabla;
	_tmp2_ = g_strdup_printf ("INSERT INTO %s (nombre, ubicacion, tipo, ultimoAcceso, popularidad, di" \
"sponible)", _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_strconcat (_tmp3_, "VALUES (?, ?, ?, ?, ?, ? )", NULL);
	_tmp5_ = _tmp4_;
	_tmp7_ = sqlite3_prepare_v2 (_tmp0_, _tmp5_, -1, &_tmp6_, NULL);
	_sqlite3_finalize0 (query);
	query = _tmp6_;
	_tmp8_ = _tmp7_;
	_g_free0 (_tmp5_);
	_g_free0 (_tmp3_);
	res = _tmp8_;
	_tmp9_ = res;
	_vala_assert (_tmp9_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp10_ = query;
	_tmp11_ = archivo;
	_tmp12_ = _tmp11_->nombre;
	_tmp13_ = g_strdup (_tmp12_);
	_tmp14_ = g_free;
	_tmp15_ = sqlite3_bind_text (_tmp10_, 1, _tmp13_, -1, _tmp14_);
	res = _tmp15_;
	_tmp16_ = res;
	_vala_assert (_tmp16_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp17_ = query;
	_tmp18_ = archivo;
	_tmp19_ = _tmp18_->ubicacion;
	_tmp20_ = g_strdup (_tmp19_);
	_tmp21_ = g_free;
	_tmp22_ = sqlite3_bind_text (_tmp17_, 2, _tmp20_, -1, _tmp21_);
	res = _tmp22_;
	_tmp23_ = res;
	_vala_assert (_tmp23_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp24_ = query;
	_tmp25_ = archivo;
	_tmp26_ = _tmp25_->tipo;
	_tmp27_ = g_strdup (_tmp26_);
	_tmp28_ = g_free;
	_tmp29_ = sqlite3_bind_text (_tmp24_, 3, _tmp27_, -1, _tmp28_);
	res = _tmp29_;
	_tmp30_ = res;
	_vala_assert (_tmp30_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp31_ = query;
	_tmp32_ = archivo;
	_tmp33_ = _tmp32_->u_acceso;
	_tmp34_ = g_strdup (_tmp33_);
	_tmp35_ = g_free;
	_tmp36_ = sqlite3_bind_text (_tmp31_, 4, _tmp34_, -1, _tmp35_);
	res = _tmp36_;
	_tmp37_ = res;
	_vala_assert (_tmp37_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp38_ = query;
	_tmp39_ = archivo;
	_tmp40_ = _tmp39_->popularidad;
	_tmp41_ = sqlite3_bind_double (_tmp38_, 5, _tmp40_);
	res = _tmp41_;
	_tmp42_ = res;
	_vala_assert (_tmp42_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp44_ = archivo;
	_tmp45_ = _tmp44_->disponible;
	if (_tmp45_) {
		_tmp43_ = 1;
	} else {
		_tmp43_ = 0;
	}
	dis = _tmp43_;
	_tmp46_ = query;
	_tmp47_ = dis;
	_tmp48_ = sqlite3_bind_int (_tmp46_, 6, _tmp47_);
	res = _tmp48_;
	_tmp49_ = query;
	_tmp50_ = sqlite3_step (_tmp49_);
	res = _tmp50_;
	_tmp51_ = res;
	if (_tmp51_ != SQLITE_DONE) {
		result = NULL;
		_sqlite3_finalize0 (query);
		return result;
	}
	_tmp52_ = archivo;
	_tmp53_ = graph_media_modelos_tablas_bd;
	_tmp54_ = sqlite3_last_insert_rowid (_tmp53_);
	_tmp52_->id = _tmp54_;
	_tmp55_ = archivo;
	_tmp56_ = _graph_media_modelos_archivo_ref0 (_tmp55_);
	result = _tmp56_;
	_sqlite3_finalize0 (query);
	return result;
}


GraphMediaModelosArchivo* graph_media_modelos_tabla_archivo_eliminar (GraphMediaModelosTablaArchivo* self, GraphMediaModelosArchivo* p, GError** error) {
	GraphMediaModelosArchivo* result = NULL;
	GraphMediaModelosArchivo* _tmp0_ = NULL;
	gint64 _tmp1_ = 0LL;
	GraphMediaModelosArchivo* _tmp2_ = NULL;
	gint64 _tmp3_ = 0LL;
	gboolean _tmp4_ = FALSE;
	GraphMediaModelosArchivo* _tmp11_ = NULL;
	GraphMediaModelosArchivo* _tmp12_ = NULL;
	GraphMediaModelosArchivo* _tmp13_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (p != NULL, NULL);
	_tmp0_ = p;
	_tmp1_ = _tmp0_->id;
	_vala_assert (_tmp1_ != ((gint64) (-1)), "p.id != -1");
	_tmp2_ = p;
	_tmp3_ = _tmp2_->id;
	_tmp4_ = graph_media_modelos_tablas_eliminar_celda_por_id ((GraphMediaModelosTablas*) self, _tmp3_);
	if (!_tmp4_) {
		GraphMediaModelosArchivo* _tmp5_ = NULL;
		const gchar* _tmp6_ = NULL;
		gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
		GError* _tmp9_ = NULL;
		GError* _tmp10_ = NULL;
		_tmp5_ = p;
		_tmp6_ = _tmp5_->nombre;
		_tmp7_ = g_strdup_printf ("No se pudo eliminar a %s", _tmp6_);
		_tmp8_ = _tmp7_;
		_tmp9_ = g_error_new_literal (GRAPH_MEDIA_MODELOS_ERROR_BASE_DATOS, GRAPH_MEDIA_MODELOS_ERROR_BASE_DATOS_CONSULTA, _tmp8_);
		_tmp10_ = _tmp9_;
		_g_free0 (_tmp8_);
		_inner_error_ = _tmp10_;
		if (_inner_error_->domain == GRAPH_MEDIA_MODELOS_ERROR_BASE_DATOS) {
			g_propagate_error (error, _inner_error_);
			return NULL;
		} else {
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return NULL;
		}
	}
	_tmp11_ = p;
	_tmp11_->id = (gint64) (-1);
	_tmp12_ = p;
	_tmp13_ = _graph_media_modelos_archivo_ref0 (_tmp12_);
	result = _tmp13_;
	return result;
}


GeeList* graph_media_modelos_tabla_archivo_buscar (GraphMediaModelosTablaArchivo* self, const gchar* where) {
	GeeList* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (where != NULL, NULL);
	result = NULL;
	return result;
}


gboolean graph_media_modelos_tabla_archivo_editar (GraphMediaModelosTablaArchivo* self, GraphMediaModelosArchivo* p) {
	gboolean result = FALSE;
	GraphMediaModelosArchivo* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	gchar* columnas = NULL;
	gchar* _tmp2_ = NULL;
	sqlite3_stmt* query = NULL;
	gchar* sql = NULL;
	const gchar* _tmp3_ = NULL;
	const gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gint res = 0;
	sqlite3* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	sqlite3_stmt* _tmp8_ = NULL;
	gint _tmp9_ = 0;
	gint _tmp10_ = 0;
	sqlite3_stmt* _tmp11_ = NULL;
	GraphMediaModelosArchivo* _tmp12_ = NULL;
	const gchar* _tmp13_ = NULL;
	gchar* _tmp14_ = NULL;
	GDestroyNotify _tmp15_ = NULL;
	gint _tmp16_ = 0;
	gint _tmp17_ = 0;
	sqlite3_stmt* _tmp18_ = NULL;
	GraphMediaModelosArchivo* _tmp19_ = NULL;
	const gchar* _tmp20_ = NULL;
	gchar* _tmp21_ = NULL;
	GDestroyNotify _tmp22_ = NULL;
	gint _tmp23_ = 0;
	gint _tmp24_ = 0;
	sqlite3_stmt* _tmp25_ = NULL;
	GraphMediaModelosArchivo* _tmp26_ = NULL;
	const gchar* _tmp27_ = NULL;
	gchar* _tmp28_ = NULL;
	GDestroyNotify _tmp29_ = NULL;
	gint _tmp30_ = 0;
	gint _tmp31_ = 0;
	sqlite3_stmt* _tmp32_ = NULL;
	GraphMediaModelosArchivo* _tmp33_ = NULL;
	const gchar* _tmp34_ = NULL;
	gchar* _tmp35_ = NULL;
	GDestroyNotify _tmp36_ = NULL;
	gint _tmp37_ = 0;
	gint _tmp38_ = 0;
	sqlite3_stmt* _tmp39_ = NULL;
	GraphMediaModelosArchivo* _tmp40_ = NULL;
	gdouble _tmp41_ = 0.0;
	gint _tmp42_ = 0;
	gint _tmp43_ = 0;
	gint _tmp44_ = 0;
	GraphMediaModelosArchivo* _tmp45_ = NULL;
	gboolean _tmp46_ = FALSE;
	sqlite3_stmt* _tmp47_ = NULL;
	gint _tmp48_ = 0;
	gint _tmp49_ = 0;
	sqlite3_stmt* _tmp50_ = NULL;
	GraphMediaModelosArchivo* _tmp51_ = NULL;
	gint64 _tmp52_ = 0LL;
	gint _tmp53_ = 0;
	gint _tmp54_ = 0;
	sqlite3_stmt* _tmp55_ = NULL;
	gint _tmp56_ = 0;
	gint _tmp57_ = 0;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (p != NULL, FALSE);
	_tmp0_ = p;
	_tmp1_ = graph_media_modelos_archivo_es_valido (_tmp0_);
	if (!_tmp1_) {
		result = FALSE;
		return result;
	}
	_tmp2_ = g_strdup ("nombre=?, ubicacion=?, tipo=?, ultimoAcceso=?, popularidad=?, disponib" \
"le=?");
	columnas = _tmp2_;
	_tmp3_ = ((GraphMediaModelosTablas*) self)->nombre_tabla;
	_tmp4_ = columnas;
	_tmp5_ = g_strdup_printf ("UPDATE %s SET %s WHERE id=?", _tmp3_, _tmp4_);
	sql = _tmp5_;
	_tmp6_ = graph_media_modelos_tablas_bd;
	_tmp7_ = sql;
	_tmp9_ = sqlite3_prepare_v2 (_tmp6_, _tmp7_, -1, &_tmp8_, NULL);
	_sqlite3_finalize0 (query);
	query = _tmp8_;
	res = _tmp9_;
	_tmp10_ = res;
	_vala_assert (_tmp10_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp11_ = query;
	_tmp12_ = p;
	_tmp13_ = _tmp12_->nombre;
	_tmp14_ = g_strdup (_tmp13_);
	_tmp15_ = g_free;
	_tmp16_ = sqlite3_bind_text (_tmp11_, 1, _tmp14_, -1, _tmp15_);
	res = _tmp16_;
	_tmp17_ = res;
	_vala_assert (_tmp17_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp18_ = query;
	_tmp19_ = p;
	_tmp20_ = _tmp19_->ubicacion;
	_tmp21_ = g_strdup (_tmp20_);
	_tmp22_ = g_free;
	_tmp23_ = sqlite3_bind_text (_tmp18_, 2, _tmp21_, -1, _tmp22_);
	res = _tmp23_;
	_tmp24_ = res;
	_vala_assert (_tmp24_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp25_ = query;
	_tmp26_ = p;
	_tmp27_ = _tmp26_->tipo;
	_tmp28_ = g_strdup (_tmp27_);
	_tmp29_ = g_free;
	_tmp30_ = sqlite3_bind_text (_tmp25_, 3, _tmp28_, -1, _tmp29_);
	res = _tmp30_;
	_tmp31_ = res;
	_vala_assert (_tmp31_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp32_ = query;
	_tmp33_ = p;
	_tmp34_ = _tmp33_->u_acceso;
	_tmp35_ = g_strdup (_tmp34_);
	_tmp36_ = g_free;
	_tmp37_ = sqlite3_bind_text (_tmp32_, 4, _tmp35_, -1, _tmp36_);
	res = _tmp37_;
	_tmp38_ = res;
	_vala_assert (_tmp38_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp39_ = query;
	_tmp40_ = p;
	_tmp41_ = _tmp40_->popularidad;
	_tmp42_ = sqlite3_bind_double (_tmp39_, 5, _tmp41_);
	res = _tmp42_;
	_tmp43_ = res;
	_vala_assert (_tmp43_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp45_ = p;
	_tmp46_ = _tmp45_->disponible;
	if (_tmp46_) {
		_tmp44_ = 1;
	} else {
		_tmp44_ = 0;
	}
	_tmp47_ = query;
	_tmp48_ = sqlite3_bind_int (_tmp47_, 6, _tmp44_);
	res = _tmp48_;
	_tmp49_ = res;
	_vala_assert (_tmp49_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp50_ = query;
	_tmp51_ = p;
	_tmp52_ = _tmp51_->id;
	_tmp53_ = sqlite3_bind_int64 (_tmp50_, 7, _tmp52_);
	res = _tmp53_;
	_tmp54_ = res;
	_vala_assert (_tmp54_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp55_ = query;
	_tmp56_ = sqlite3_step (_tmp55_);
	res = _tmp56_;
	_tmp57_ = res;
	result = _tmp57_ == SQLITE_DONE;
	_g_free0 (sql);
	_sqlite3_finalize0 (query);
	_g_free0 (columnas);
	return result;
}


GraphMediaModelosArchivo* graph_media_modelos_tabla_archivo_get_archivo_id (GraphMediaModelosTablaArchivo* self, gint64 id) {
	GraphMediaModelosArchivo* result = NULL;
	sqlite3_stmt* query = NULL;
	gchar* sql = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gint res = 0;
	sqlite3* _tmp2_ = NULL;
	sqlite3_stmt* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	gint64 _tmp6_ = 0LL;
	gint _tmp7_ = 0;
	gint _tmp8_ = 0;
	gint _tmp9_ = 0;
	gint _tmp10_ = 0;
	GraphMediaModelosArchivo* celda = NULL;
	GraphMediaModelosArchivo* _tmp11_ = NULL;
	gint64 _tmp12_ = 0LL;
	const gchar* _tmp13_ = NULL;
	gchar* _tmp14_ = NULL;
	const gchar* _tmp15_ = NULL;
	gchar* _tmp16_ = NULL;
	const gchar* _tmp17_ = NULL;
	gchar* _tmp18_ = NULL;
	gdouble _tmp19_ = 0.0;
	gint _tmp20_ = 0;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = ((GraphMediaModelosTablas*) self)->nombre_tabla;
	_tmp1_ = g_strdup_printf ("SELECT %s FROM %s WHERE id=?", "*", _tmp0_);
	sql = _tmp1_;
	_tmp2_ = graph_media_modelos_tablas_bd;
	_tmp4_ = sqlite3_prepare_v2 (_tmp2_, sql, -1, &_tmp3_, NULL);
	_sqlite3_finalize0 (query);
	query = _tmp3_;
	res = _tmp4_;
	_tmp5_ = res;
	_vala_assert (_tmp5_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp6_ = id;
	_tmp7_ = sqlite3_bind_int64 (query, 1, _tmp6_);
	res = _tmp7_;
	_tmp8_ = res;
	_vala_assert (_tmp8_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp9_ = sqlite3_step (query);
	res = _tmp9_;
	_tmp10_ = res;
	_vala_assert (_tmp10_ == SQLITE_ROW, "res == Sqlite.ROW");
	_tmp11_ = graph_media_modelos_archivo_new ();
	celda = _tmp11_;
	_tmp12_ = sqlite3_column_int64 (query, 0);
	celda->id = _tmp12_;
	_tmp13_ = sqlite3_column_text (query, 1);
	_tmp14_ = g_strdup (_tmp13_);
	_g_free0 (celda->nombre);
	celda->nombre = _tmp14_;
	_tmp15_ = sqlite3_column_text (query, 2);
	_tmp16_ = g_strdup (_tmp15_);
	_g_free0 (celda->ubicacion);
	celda->ubicacion = _tmp16_;
	_tmp17_ = sqlite3_column_text (query, 3);
	_tmp18_ = g_strdup (_tmp17_);
	_g_free0 (celda->tipo);
	celda->tipo = _tmp18_;
	_tmp19_ = sqlite3_column_double (query, 4);
	celda->popularidad = _tmp19_;
	_tmp20_ = sqlite3_column_int (query, 5);
	celda->disponible = _tmp20_ == 0;
	result = celda;
	_g_free0 (sql);
	_sqlite3_finalize0 (query);
	return result;
}


gint graph_media_modelos_tabla_archivo_get_total_archivos (GraphMediaModelosTablaArchivo* self) {
	gint result = 0;
	gint _tmp0_ = 0;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = graph_media_modelos_tablas_get_total_celdas ((GraphMediaModelosTablas*) self, "1");
	result = _tmp0_;
	return result;
}


gint graph_media_modelos_tabla_archivo_get_total_tipo (GraphMediaModelosTablaArchivo* self, const gchar* tipo) {
	gint result = 0;
	sqlite3_stmt* query = NULL;
	gchar* sql = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gint res = 0;
	sqlite3* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	sqlite3_stmt* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	gint _tmp6_ = 0;
	sqlite3_stmt* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
	GDestroyNotify _tmp10_ = NULL;
	gint _tmp11_ = 0;
	gint _tmp12_ = 0;
	sqlite3_stmt* _tmp13_ = NULL;
	gint _tmp14_ = 0;
	gint _tmp15_ = 0;
	sqlite3_stmt* _tmp16_ = NULL;
	gint _tmp17_ = 0;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (tipo != NULL, 0);
	_tmp0_ = ((GraphMediaModelosTablas*) self)->nombre_tabla;
	_tmp1_ = g_strdup_printf ("SELECT COUNT(id) AS total FROM %s WHERE tipo=?", _tmp0_);
	sql = _tmp1_;
	_tmp2_ = graph_media_modelos_tablas_bd;
	_tmp3_ = sql;
	_tmp5_ = sqlite3_prepare_v2 (_tmp2_, _tmp3_, -1, &_tmp4_, NULL);
	_sqlite3_finalize0 (query);
	query = _tmp4_;
	res = _tmp5_;
	_tmp6_ = res;
	_vala_assert (_tmp6_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp7_ = query;
	_tmp8_ = tipo;
	_tmp9_ = g_strdup (_tmp8_);
	_tmp10_ = g_free;
	_tmp11_ = sqlite3_bind_text (_tmp7_, 1, _tmp9_, -1, _tmp10_);
	res = _tmp11_;
	_tmp12_ = res;
	_vala_assert (_tmp12_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp13_ = query;
	_tmp14_ = sqlite3_step (_tmp13_);
	res = _tmp14_;
	_tmp15_ = res;
	if (_tmp15_ != SQLITE_ROW) {
		result = -1;
		_g_free0 (sql);
		_sqlite3_finalize0 (query);
		return result;
	}
	_tmp16_ = query;
	_tmp17_ = sqlite3_column_int (_tmp16_, 0);
	result = _tmp17_;
	_g_free0 (sql);
	_sqlite3_finalize0 (query);
	return result;
}


GeeArrayList* graph_media_modelos_tabla_archivo_get_archivos (GraphMediaModelosTablaArchivo* self, const gchar* where, gint limite, const gchar* orden) {
	GeeArrayList* result = NULL;
	gint _tmp0_ = 0;
	sqlite3_stmt* query = NULL;
	gchar* sql = NULL;
	const gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
	gchar* _tmp7_ = NULL;
	gint res = 0;
	sqlite3* _tmp8_ = NULL;
	const gchar* _tmp9_ = NULL;
	sqlite3_stmt* _tmp10_ = NULL;
	gint _tmp11_ = 0;
	const gchar* _tmp12_ = NULL;
	gint _tmp13_ = 0;
	GeeArrayList* archivos = NULL;
	GeeArrayList* _tmp14_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (where != NULL, NULL);
	g_return_val_if_fail (orden != NULL, NULL);
	_tmp0_ = limite;
	_vala_assert (_tmp0_ >= 0, "limite >= 0");
	_tmp1_ = ((GraphMediaModelosTablas*) self)->nombre_tabla;
	_tmp2_ = where;
	_tmp3_ = orden;
	_tmp4_ = g_strdup_printf ("FROM %s WHERE %s ORDER BY %s DESC", _tmp1_, _tmp2_, _tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = g_strconcat ("SELECT id, nombre, ubicacion, tipo, ultimoAcceso, popularidad, disponi" \
"ble ", _tmp5_, NULL);
	_tmp7_ = _tmp6_;
	_g_free0 (_tmp5_);
	sql = _tmp7_;
	_tmp8_ = graph_media_modelos_tablas_bd;
	_tmp9_ = sql;
	_tmp11_ = sqlite3_prepare_v2 (_tmp8_, _tmp9_, -1, &_tmp10_, NULL);
	_sqlite3_finalize0 (query);
	query = _tmp10_;
	res = _tmp11_;
	_tmp12_ = sql;
	g_warning ("archivo.vala:221: %s", _tmp12_);
	_tmp13_ = res;
	_vala_assert (_tmp13_ == SQLITE_OK, "res == Sqlite.OK");
	_tmp14_ = gee_array_list_new (GRAPH_MEDIA_MODELOS_TYPE_ARCHIVO, (GBoxedCopyFunc) graph_media_modelos_archivo_ref, graph_media_modelos_archivo_unref, NULL, NULL, NULL);
	archivos = _tmp14_;
	while (TRUE) {
		sqlite3_stmt* _tmp15_ = NULL;
		gint _tmp16_ = 0;
		gint _tmp17_ = 0;
		gboolean _tmp18_ = FALSE;
		gint _tmp19_ = 0;
		GraphMediaModelosArchivo* celda = NULL;
		GraphMediaModelosArchivo* _tmp24_ = NULL;
		GraphMediaModelosArchivo* _tmp25_ = NULL;
		sqlite3_stmt* _tmp26_ = NULL;
		gint64 _tmp27_ = 0LL;
		GraphMediaModelosArchivo* _tmp28_ = NULL;
		sqlite3_stmt* _tmp29_ = NULL;
		const gchar* _tmp30_ = NULL;
		gchar* _tmp31_ = NULL;
		GraphMediaModelosArchivo* _tmp32_ = NULL;
		sqlite3_stmt* _tmp33_ = NULL;
		const gchar* _tmp34_ = NULL;
		gchar* _tmp35_ = NULL;
		GraphMediaModelosArchivo* _tmp36_ = NULL;
		sqlite3_stmt* _tmp37_ = NULL;
		const gchar* _tmp38_ = NULL;
		gchar* _tmp39_ = NULL;
		GraphMediaModelosArchivo* _tmp40_ = NULL;
		sqlite3_stmt* _tmp41_ = NULL;
		gdouble _tmp42_ = 0.0;
		GraphMediaModelosArchivo* _tmp43_ = NULL;
		sqlite3_stmt* _tmp44_ = NULL;
		gint _tmp45_ = 0;
		GeeArrayList* _tmp46_ = NULL;
		GraphMediaModelosArchivo* _tmp47_ = NULL;
		_tmp15_ = query;
		_tmp16_ = sqlite3_step (_tmp15_);
		res = _tmp16_;
		_tmp17_ = res;
		if (!(_tmp17_ == SQLITE_ROW)) {
			break;
		}
		_tmp19_ = limite;
		if (_tmp19_ != 0) {
			GeeArrayList* _tmp20_ = NULL;
			gint _tmp21_ = 0;
			gint _tmp22_ = 0;
			gint _tmp23_ = 0;
			_tmp20_ = archivos;
			_tmp21_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp20_);
			_tmp22_ = _tmp21_;
			_tmp23_ = limite;
			_tmp18_ = _tmp22_ == _tmp23_;
		} else {
			_tmp18_ = FALSE;
		}
		if (_tmp18_) {
			break;
		}
		_tmp24_ = graph_media_modelos_archivo_new ();
		celda = _tmp24_;
		_tmp25_ = celda;
		_tmp26_ = query;
		_tmp27_ = sqlite3_column_int64 (_tmp26_, 0);
		_tmp25_->id = _tmp27_;
		_tmp28_ = celda;
		_tmp29_ = query;
		_tmp30_ = sqlite3_column_text (_tmp29_, 1);
		_tmp31_ = g_strdup (_tmp30_);
		_g_free0 (_tmp28_->nombre);
		_tmp28_->nombre = _tmp31_;
		_tmp32_ = celda;
		_tmp33_ = query;
		_tmp34_ = sqlite3_column_text (_tmp33_, 2);
		_tmp35_ = g_strdup (_tmp34_);
		_g_free0 (_tmp32_->ubicacion);
		_tmp32_->ubicacion = _tmp35_;
		_tmp36_ = celda;
		_tmp37_ = query;
		_tmp38_ = sqlite3_column_text (_tmp37_, 3);
		_tmp39_ = g_strdup (_tmp38_);
		_g_free0 (_tmp36_->tipo);
		_tmp36_->tipo = _tmp39_;
		_tmp40_ = celda;
		_tmp41_ = query;
		_tmp42_ = sqlite3_column_double (_tmp41_, 4);
		_tmp40_->popularidad = _tmp42_;
		_tmp43_ = celda;
		_tmp44_ = query;
		_tmp45_ = sqlite3_column_int (_tmp44_, 5);
		_tmp43_->disponible = _tmp45_ == 0;
		_tmp46_ = archivos;
		_tmp47_ = celda;
		gee_abstract_collection_add ((GeeAbstractCollection*) _tmp46_, _tmp47_);
		_graph_media_modelos_archivo_unref0 (celda);
	}
	result = archivos;
	_g_free0 (sql);
	_sqlite3_finalize0 (query);
	return result;
}


static void graph_media_modelos_tabla_archivo_class_init (GraphMediaModelosTablaArchivoClass * klass) {
	graph_media_modelos_tabla_archivo_parent_class = g_type_class_peek_parent (klass);
	G_OBJECT_CLASS (klass)->finalize = graph_media_modelos_tabla_archivo_finalize;
}


static void graph_media_modelos_tabla_archivo_instance_init (GraphMediaModelosTablaArchivo * self) {
}


static void graph_media_modelos_tabla_archivo_finalize (GObject* obj) {
	GraphMediaModelosTablaArchivo * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRAPH_MEDIA_MODELOS_TYPE_TABLA_ARCHIVO, GraphMediaModelosTablaArchivo);
	G_OBJECT_CLASS (graph_media_modelos_tabla_archivo_parent_class)->finalize (obj);
}


GType graph_media_modelos_tabla_archivo_get_type (void) {
	static volatile gsize graph_media_modelos_tabla_archivo_type_id__volatile = 0;
	if (g_once_init_enter (&graph_media_modelos_tabla_archivo_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraphMediaModelosTablaArchivoClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) graph_media_modelos_tabla_archivo_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraphMediaModelosTablaArchivo), 0, (GInstanceInitFunc) graph_media_modelos_tabla_archivo_instance_init, NULL };
		GType graph_media_modelos_tabla_archivo_type_id;
		graph_media_modelos_tabla_archivo_type_id = g_type_register_static (GRAPH_MEDIA_MODELOS_TYPE_TABLAS, "GraphMediaModelosTablaArchivo", &g_define_type_info, 0);
		g_once_init_leave (&graph_media_modelos_tabla_archivo_type_id__volatile, graph_media_modelos_tabla_archivo_type_id);
	}
	return graph_media_modelos_tabla_archivo_type_id__volatile;
}



