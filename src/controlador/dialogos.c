/* dialogos.c generated by valac 0.26.0, the Vala compiler
 * generated from dialogos.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
#include <float.h>
#include <math.h>
#include <glib/gi18n-lib.h>
#include <glib/gstdio.h>


#define GRAPH_MEDIA_MODELOS_TYPE_DIALOGO (graph_media_modelos_dialogo_get_type ())
#define GRAPH_MEDIA_MODELOS_DIALOGO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_DIALOGO, GraphMediaModelosDialogo))
#define GRAPH_MEDIA_MODELOS_DIALOGO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_DIALOGO, GraphMediaModelosDialogoClass))
#define GRAPH_MEDIA_MODELOS_IS_DIALOGO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_DIALOGO))
#define GRAPH_MEDIA_MODELOS_IS_DIALOGO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_DIALOGO))
#define GRAPH_MEDIA_MODELOS_DIALOGO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_DIALOGO, GraphMediaModelosDialogoClass))

typedef struct _GraphMediaModelosDialogo GraphMediaModelosDialogo;
typedef struct _GraphMediaModelosDialogoClass GraphMediaModelosDialogoClass;
typedef struct _GraphMediaModelosDialogoPrivate GraphMediaModelosDialogoPrivate;

#define GRAPH_MEDIA_MODELOS_TYPE_PERSONA (graph_media_modelos_persona_get_type ())
#define GRAPH_MEDIA_MODELOS_PERSONA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_PERSONA, GraphMediaModelosPersona))
#define GRAPH_MEDIA_MODELOS_PERSONA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_PERSONA, GraphMediaModelosPersonaClass))
#define GRAPH_MEDIA_MODELOS_IS_PERSONA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_PERSONA))
#define GRAPH_MEDIA_MODELOS_IS_PERSONA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_PERSONA))
#define GRAPH_MEDIA_MODELOS_PERSONA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_PERSONA, GraphMediaModelosPersonaClass))

typedef struct _GraphMediaModelosPersona GraphMediaModelosPersona;
typedef struct _GraphMediaModelosPersonaClass GraphMediaModelosPersonaClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _graph_media_modelos_persona_unref0(var) ((var == NULL) ? NULL : (var = (graph_media_modelos_persona_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define GRAPH_MEDIA_MODELOS_TYPE_APP_GUI (graph_media_modelos_app_gui_get_type ())
#define GRAPH_MEDIA_MODELOS_APP_GUI(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_APP_GUI, GraphMediaModelosAppGUI))
#define GRAPH_MEDIA_MODELOS_APP_GUI_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_APP_GUI, GraphMediaModelosAppGUIClass))
#define GRAPH_MEDIA_MODELOS_IS_APP_GUI(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_APP_GUI))
#define GRAPH_MEDIA_MODELOS_IS_APP_GUI_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_APP_GUI))
#define GRAPH_MEDIA_MODELOS_APP_GUI_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_APP_GUI, GraphMediaModelosAppGUIClass))

typedef struct _GraphMediaModelosAppGUI GraphMediaModelosAppGUI;
typedef struct _GraphMediaModelosAppGUIClass GraphMediaModelosAppGUIClass;
typedef struct _GraphMediaModelosPersonaPrivate GraphMediaModelosPersonaPrivate;

struct _GraphMediaModelosDialogo {
	GtkDialog parent_instance;
	GraphMediaModelosDialogoPrivate * priv;
};

struct _GraphMediaModelosDialogoClass {
	GtkDialogClass parent_class;
};

struct _GraphMediaModelosDialogoPrivate {
	GtkEntry* nombre_persona;
	GtkEntry* nacionalidad;
	GtkEntry* rol;
	GtkSpinButton* edad;
	GtkImage* persona_imagen;
	GtkButton* guardar;
	GraphMediaModelosPersona* tmp;
	gchar* ruta_imagen;
};

struct _GraphMediaModelosPersona {
	GTypeInstance parent_instance;
	volatile int ref_count;
	GraphMediaModelosPersonaPrivate * priv;
	gint64 id;
	gchar* nombre;
	gchar* rol;
	gint edad;
	gdouble popularidad;
	gchar* nacionalidad;
	gchar* imagen;
};

struct _GraphMediaModelosPersonaClass {
	GTypeClass parent_class;
	void (*finalize) (GraphMediaModelosPersona *self);
};


static gpointer graph_media_modelos_dialogo_parent_class = NULL;
extern GraphMediaModelosPersona* graph_media_modelos_app_gui_persona_actual;

GType graph_media_modelos_dialogo_get_type (void) G_GNUC_CONST;
gpointer graph_media_modelos_persona_ref (gpointer instance);
void graph_media_modelos_persona_unref (gpointer instance);
GParamSpec* graph_media_modelos_param_spec_persona (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void graph_media_modelos_value_set_persona (GValue* value, gpointer v_object);
void graph_media_modelos_value_take_persona (GValue* value, gpointer v_object);
gpointer graph_media_modelos_value_get_persona (const GValue* value);
GType graph_media_modelos_persona_get_type (void) G_GNUC_CONST;
#define GRAPH_MEDIA_MODELOS_DIALOGO_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), GRAPH_MEDIA_MODELOS_TYPE_DIALOGO, GraphMediaModelosDialogoPrivate))
enum  {
	GRAPH_MEDIA_MODELOS_DIALOGO_DUMMY_PROPERTY
};
#define GRAPH_MEDIA_MODELOS_DIALOGO_TAM_ICONO 170
GType graph_media_modelos_app_gui_get_type (void) G_GNUC_CONST;
GraphMediaModelosDialogo* graph_media_modelos_dialogo_new (GraphMediaModelosAppGUI* window, GraphMediaModelosPersona* p, gboolean generico);
GraphMediaModelosDialogo* graph_media_modelos_dialogo_construct (GType object_type, GraphMediaModelosAppGUI* window, GraphMediaModelosPersona* p, gboolean generico);
gboolean graph_media_modelos_persona_es_valida (GraphMediaModelosPersona* self);
static void graph_media_modelos_dialogo_cargar_persona (GraphMediaModelosDialogo* self, GraphMediaModelosPersona* p);
void graph_media_modelos_dialogo_valida_persona (GraphMediaModelosDialogo* self);
static void _graph_media_modelos_dialogo_valida_persona_gtk_spin_button_value_changed (GtkSpinButton* _sender, gpointer self);
void graph_media_modelos_dialogo_on_cambiar_imagen_clicked (GraphMediaModelosDialogo* self);
static GdkPixbuf* graph_media_modelos_dialogo_cargar_imagen (GraphMediaModelosDialogo* self, const gchar* titulo);
static void _graph_media_modelos_dialogo_on_cambiar_imagen_clicked_gtk_button_clicked (GtkButton* _sender, gpointer self);
static void graph_media_modelos_dialogo_guardar_persona (GraphMediaModelosDialogo* self);
static void _graph_media_modelos_dialogo_guardar_persona_gtk_button_clicked (GtkButton* _sender, gpointer self);
GraphMediaModelosPersona* graph_media_modelos_dialogo_get_persona (GraphMediaModelosDialogo* self);
static void graph_media_modelos_dialogo_finalize (GObject* obj);


static gpointer _graph_media_modelos_persona_ref0 (gpointer self) {
	return self ? graph_media_modelos_persona_ref (self) : NULL;
}


GraphMediaModelosDialogo* graph_media_modelos_dialogo_construct (GType object_type, GraphMediaModelosAppGUI* window, GraphMediaModelosPersona* p, gboolean generico) {
	GraphMediaModelosDialogo * self = NULL;
	GraphMediaModelosAppGUI* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	GraphMediaModelosPersona* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp5_ = FALSE;
	GraphMediaModelosPersona* _tmp7_ = NULL;
	GraphMediaModelosPersona* _tmp8_ = NULL;
	GraphMediaModelosPersona* _tmp9_ = NULL;
	GraphMediaModelosPersona* _tmp10_ = NULL;
	GtkButton* _tmp11_ = NULL;
	g_return_val_if_fail (window != NULL, NULL);
	g_return_val_if_fail (p != NULL, NULL);
	_tmp0_ = window;
	self = (GraphMediaModelosDialogo*) g_object_new (object_type, "transient-for", _tmp0_, "use-header-bar", 1, NULL);
	_tmp1_ = g_strdup ("src/ui/images/0.jpg");
	_g_free0 (self->priv->ruta_imagen);
	self->priv->ruta_imagen = _tmp1_;
	_tmp2_ = p;
	_tmp3_ = graph_media_modelos_persona_es_valida (_tmp2_);
	if (_tmp3_) {
		GraphMediaModelosPersona* _tmp4_ = NULL;
		_tmp4_ = p;
		graph_media_modelos_dialogo_cargar_persona (self, _tmp4_);
	}
	_tmp5_ = generico;
	if (_tmp5_) {
		GtkEntry* _tmp6_ = NULL;
		_tmp6_ = self->priv->rol;
		gtk_widget_set_visible ((GtkWidget*) _tmp6_, TRUE);
	}
	_tmp7_ = p;
	_tmp8_ = _graph_media_modelos_persona_ref0 (_tmp7_);
	_graph_media_modelos_persona_unref0 (self->priv->tmp);
	self->priv->tmp = _tmp8_;
	_tmp9_ = self->priv->tmp;
	_tmp10_ = _graph_media_modelos_persona_ref0 (_tmp9_);
	_graph_media_modelos_persona_unref0 (graph_media_modelos_app_gui_persona_actual);
	graph_media_modelos_app_gui_persona_actual = _tmp10_;
	_tmp11_ = self->priv->guardar;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp11_, FALSE);
	return self;
}


GraphMediaModelosDialogo* graph_media_modelos_dialogo_new (GraphMediaModelosAppGUI* window, GraphMediaModelosPersona* p, gboolean generico) {
	return graph_media_modelos_dialogo_construct (GRAPH_MEDIA_MODELOS_TYPE_DIALOGO, window, p, generico);
}


void graph_media_modelos_dialogo_valida_persona (GraphMediaModelosDialogo* self) {
	GtkButton* _tmp0_ = NULL;
	GtkButton* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->guardar;
	_tmp1_ = self->priv->guardar;
	_tmp2_ = gtk_widget_get_sensitive ((GtkWidget*) _tmp1_);
	_tmp3_ = _tmp2_;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp1_, _tmp3_ | TRUE);
}


static void _graph_media_modelos_dialogo_valida_persona_gtk_spin_button_value_changed (GtkSpinButton* _sender, gpointer self) {
	graph_media_modelos_dialogo_valida_persona ((GraphMediaModelosDialogo*) self);
}


void graph_media_modelos_dialogo_on_cambiar_imagen_clicked (GraphMediaModelosDialogo* self) {
	GtkImage* _tmp0_ = NULL;
	GdkPixbuf* _tmp1_ = NULL;
	GdkPixbuf* _tmp2_ = NULL;
	GtkButton* _tmp3_ = NULL;
	GtkButton* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->persona_imagen;
	_tmp1_ = graph_media_modelos_dialogo_cargar_imagen (self, "Seleccionar imagen para la persona");
	_tmp2_ = _tmp1_;
	gtk_image_set_from_pixbuf (_tmp0_, _tmp2_);
	_g_object_unref0 (_tmp2_);
	_tmp3_ = self->priv->guardar;
	_tmp4_ = self->priv->guardar;
	_tmp5_ = gtk_widget_get_sensitive ((GtkWidget*) _tmp4_);
	_tmp6_ = _tmp5_;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp4_, _tmp6_ | TRUE);
}


static void _graph_media_modelos_dialogo_on_cambiar_imagen_clicked_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	graph_media_modelos_dialogo_on_cambiar_imagen_clicked ((GraphMediaModelosDialogo*) self);
}


static void graph_media_modelos_dialogo_guardar_persona (GraphMediaModelosDialogo* self) {
	GraphMediaModelosPersona* _tmp0_ = NULL;
	GtkEntry* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	GraphMediaModelosPersona* _tmp4_ = NULL;
	GtkSpinButton* _tmp5_ = NULL;
	gdouble _tmp6_ = 0.0;
	GraphMediaModelosPersona* _tmp7_ = NULL;
	GtkEntry* _tmp8_ = NULL;
	const gchar* _tmp9_ = NULL;
	gchar* _tmp10_ = NULL;
	GraphMediaModelosPersona* _tmp11_ = NULL;
	const gchar* _tmp12_ = NULL;
	gchar* _tmp13_ = NULL;
	GraphMediaModelosPersona* _tmp14_ = NULL;
	GraphMediaModelosPersona* _tmp15_ = NULL;
	GtkButton* _tmp16_ = NULL;
	g_return_if_fail (self != NULL);
	graph_media_modelos_dialogo_valida_persona (self);
	_tmp0_ = self->priv->tmp;
	_tmp1_ = self->priv->nombre_persona;
	_tmp2_ = gtk_entry_get_text (_tmp1_);
	_tmp3_ = g_strdup (_tmp2_);
	_g_free0 (_tmp0_->nombre);
	_tmp0_->nombre = _tmp3_;
	_tmp4_ = self->priv->tmp;
	_tmp5_ = self->priv->edad;
	_tmp6_ = gtk_spin_button_get_value (_tmp5_);
	_tmp4_->edad = (gint) _tmp6_;
	_tmp7_ = self->priv->tmp;
	_tmp8_ = self->priv->nacionalidad;
	_tmp9_ = gtk_entry_get_text (_tmp8_);
	_tmp10_ = g_strdup (_tmp9_);
	_g_free0 (_tmp7_->nacionalidad);
	_tmp7_->nacionalidad = _tmp10_;
	_tmp11_ = self->priv->tmp;
	_tmp12_ = self->priv->ruta_imagen;
	_tmp13_ = g_strdup (_tmp12_);
	_g_free0 (_tmp11_->imagen);
	_tmp11_->imagen = _tmp13_;
	_tmp14_ = self->priv->tmp;
	_tmp15_ = _graph_media_modelos_persona_ref0 (_tmp14_);
	_graph_media_modelos_persona_unref0 (graph_media_modelos_app_gui_persona_actual);
	graph_media_modelos_app_gui_persona_actual = _tmp15_;
	_tmp16_ = self->priv->guardar;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp16_, FALSE);
}


static void _graph_media_modelos_dialogo_guardar_persona_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	graph_media_modelos_dialogo_guardar_persona ((GraphMediaModelosDialogo*) self);
}


GraphMediaModelosPersona* graph_media_modelos_dialogo_get_persona (GraphMediaModelosDialogo* self) {
	GraphMediaModelosPersona* result = NULL;
	GraphMediaModelosPersona* _tmp0_ = NULL;
	GraphMediaModelosPersona* _tmp1_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->tmp;
	_tmp1_ = _graph_media_modelos_persona_ref0 (_tmp0_);
	result = _tmp1_;
	return result;
}


static GdkPixbuf* graph_media_modelos_dialogo_cargar_imagen (GraphMediaModelosDialogo* self, const gchar* titulo) {
	GdkPixbuf* result = NULL;
	GtkFileChooserDialog* dialogo = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	GtkFileChooserDialog* _tmp3_ = NULL;
	gint res = 0;
	GtkFileChooserDialog* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	gchar* archivo = NULL;
	GtkFileChooserDialog* _tmp6_ = NULL;
	gchar* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
	GtkFileChooserDialog* _tmp10_ = NULL;
	gint _tmp11_ = 0;
	const gchar* _tmp13_ = NULL;
	gboolean _tmp14_ = FALSE;
	GdkPixbuf* _tmp16_ = NULL;
	const gchar* _tmp17_ = NULL;
	GdkPixbuf* _tmp18_ = NULL;
	GdkPixbuf* _tmp19_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (titulo != NULL, NULL);
	_tmp0_ = titulo;
	_tmp1_ = _ ("_Cancelar");
	_tmp2_ = _ ("_Abrir");
	_tmp3_ = (GtkFileChooserDialog*) gtk_file_chooser_dialog_new (_tmp0_, (GtkWindow*) self, GTK_FILE_CHOOSER_ACTION_OPEN, _tmp1_, GTK_RESPONSE_CANCEL, _tmp2_, GTK_RESPONSE_ACCEPT, NULL);
	g_object_ref_sink (_tmp3_);
	dialogo = _tmp3_;
	_tmp4_ = dialogo;
	_tmp5_ = gtk_dialog_run ((GtkDialog*) _tmp4_);
	res = _tmp5_;
	_tmp6_ = dialogo;
	_tmp7_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp6_);
	archivo = _tmp7_;
	_tmp8_ = archivo;
	_tmp9_ = g_strdup (_tmp8_);
	_g_free0 (self->priv->ruta_imagen);
	self->priv->ruta_imagen = _tmp9_;
	_tmp10_ = dialogo;
	gtk_widget_destroy ((GtkWidget*) _tmp10_);
	_tmp11_ = res;
	if (_tmp11_ != ((gint) GTK_RESPONSE_ACCEPT)) {
		gchar* _tmp12_ = NULL;
		_tmp12_ = g_strdup ("");
		_g_free0 (archivo);
		archivo = _tmp12_;
	}
	_tmp13_ = archivo;
	_tmp14_ = g_file_test (_tmp13_, G_FILE_TEST_IS_REGULAR);
	if (!_tmp14_) {
		gchar* _tmp15_ = NULL;
		_tmp15_ = g_strdup ("src/ui/images/0.jpg");
		_g_free0 (archivo);
		archivo = _tmp15_;
	}
	_tmp17_ = archivo;
	_tmp18_ = gdk_pixbuf_new_from_file_at_size (_tmp17_, GRAPH_MEDIA_MODELOS_DIALOGO_TAM_ICONO, GRAPH_MEDIA_MODELOS_DIALOGO_TAM_ICONO, &_inner_error_);
	_tmp16_ = _tmp18_;
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		_g_free0 (archivo);
		_g_object_unref0 (dialogo);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
	_tmp19_ = _tmp16_;
	_tmp16_ = NULL;
	result = _tmp19_;
	_g_object_unref0 (_tmp16_);
	_g_free0 (archivo);
	_g_object_unref0 (dialogo);
	return result;
}


static void graph_media_modelos_dialogo_cargar_persona (GraphMediaModelosDialogo* self, GraphMediaModelosPersona* p) {
	GdkPixbuf* _tmp0_ = NULL;
	GraphMediaModelosPersona* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	GdkPixbuf* _tmp3_ = NULL;
	GtkImage* _tmp4_ = NULL;
	GtkEntry* _tmp5_ = NULL;
	GraphMediaModelosPersona* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	GtkEntry* _tmp8_ = NULL;
	GraphMediaModelosPersona* _tmp9_ = NULL;
	const gchar* _tmp10_ = NULL;
	GtkSpinButton* _tmp11_ = NULL;
	GraphMediaModelosPersona* _tmp12_ = NULL;
	gint _tmp13_ = 0;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (p != NULL);
	_tmp1_ = p;
	_tmp2_ = _tmp1_->imagen;
	_tmp3_ = gdk_pixbuf_new_from_file_at_size (_tmp2_, GRAPH_MEDIA_MODELOS_DIALOGO_TAM_ICONO, GRAPH_MEDIA_MODELOS_DIALOGO_TAM_ICONO, &_inner_error_);
	_tmp0_ = _tmp3_;
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
	_tmp4_ = self->priv->persona_imagen;
	gtk_image_set_from_pixbuf (_tmp4_, _tmp0_);
	_tmp5_ = self->priv->nombre_persona;
	_tmp6_ = p;
	_tmp7_ = _tmp6_->nombre;
	gtk_entry_set_text (_tmp5_, _tmp7_);
	_tmp8_ = self->priv->nacionalidad;
	_tmp9_ = p;
	_tmp10_ = _tmp9_->nacionalidad;
	gtk_entry_set_text (_tmp8_, _tmp10_);
	_tmp11_ = self->priv->edad;
	_tmp12_ = p;
	_tmp13_ = _tmp12_->edad;
	gtk_spin_button_set_value (_tmp11_, (gdouble) _tmp13_);
	_g_object_unref0 (_tmp0_);
}


static void graph_media_modelos_dialogo_class_init (GraphMediaModelosDialogoClass * klass) {
	gint GraphMediaModelosDialogo_private_offset;
	graph_media_modelos_dialogo_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (GraphMediaModelosDialogoPrivate));
	G_OBJECT_CLASS (klass)->finalize = graph_media_modelos_dialogo_finalize;
	GraphMediaModelosDialogo_private_offset = g_type_class_get_instance_private_offset (klass);
	gtk_widget_class_set_template_from_resource (GTK_WIDGET_CLASS (klass), "/org/gtk/graphmedia/dialogs.ui");
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "nombre_persona", FALSE, GraphMediaModelosDialogo_private_offset + G_STRUCT_OFFSET (GraphMediaModelosDialogoPrivate, nombre_persona));
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "nacionalidad", FALSE, GraphMediaModelosDialogo_private_offset + G_STRUCT_OFFSET (GraphMediaModelosDialogoPrivate, nacionalidad));
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "rol", FALSE, GraphMediaModelosDialogo_private_offset + G_STRUCT_OFFSET (GraphMediaModelosDialogoPrivate, rol));
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "edad", FALSE, GraphMediaModelosDialogo_private_offset + G_STRUCT_OFFSET (GraphMediaModelosDialogoPrivate, edad));
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "persona_imagen", FALSE, GraphMediaModelosDialogo_private_offset + G_STRUCT_OFFSET (GraphMediaModelosDialogoPrivate, persona_imagen));
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "guardar", FALSE, GraphMediaModelosDialogo_private_offset + G_STRUCT_OFFSET (GraphMediaModelosDialogoPrivate, guardar));
	gtk_widget_class_bind_template_callback_full (GTK_WIDGET_CLASS (klass), "valida_persona", G_CALLBACK(_graph_media_modelos_dialogo_valida_persona_gtk_spin_button_value_changed));
	gtk_widget_class_bind_template_callback_full (GTK_WIDGET_CLASS (klass), "on_cambiar_imagen_clicked", G_CALLBACK(_graph_media_modelos_dialogo_on_cambiar_imagen_clicked_gtk_button_clicked));
	gtk_widget_class_bind_template_callback_full (GTK_WIDGET_CLASS (klass), "guardar_persona", G_CALLBACK(_graph_media_modelos_dialogo_guardar_persona_gtk_button_clicked));
}


static void graph_media_modelos_dialogo_instance_init (GraphMediaModelosDialogo * self) {
	self->priv = GRAPH_MEDIA_MODELOS_DIALOGO_GET_PRIVATE (self);
	gtk_widget_init_template (GTK_WIDGET (self));
}


static void graph_media_modelos_dialogo_finalize (GObject* obj) {
	GraphMediaModelosDialogo * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRAPH_MEDIA_MODELOS_TYPE_DIALOGO, GraphMediaModelosDialogo);
	_g_object_unref0 (self->priv->nombre_persona);
	_g_object_unref0 (self->priv->nacionalidad);
	_g_object_unref0 (self->priv->rol);
	_g_object_unref0 (self->priv->edad);
	_g_object_unref0 (self->priv->persona_imagen);
	_g_object_unref0 (self->priv->guardar);
	_graph_media_modelos_persona_unref0 (self->priv->tmp);
	_g_free0 (self->priv->ruta_imagen);
	G_OBJECT_CLASS (graph_media_modelos_dialogo_parent_class)->finalize (obj);
}


GType graph_media_modelos_dialogo_get_type (void) {
	static volatile gsize graph_media_modelos_dialogo_type_id__volatile = 0;
	if (g_once_init_enter (&graph_media_modelos_dialogo_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraphMediaModelosDialogoClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) graph_media_modelos_dialogo_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraphMediaModelosDialogo), 0, (GInstanceInitFunc) graph_media_modelos_dialogo_instance_init, NULL };
		GType graph_media_modelos_dialogo_type_id;
		graph_media_modelos_dialogo_type_id = g_type_register_static (gtk_dialog_get_type (), "GraphMediaModelosDialogo", &g_define_type_info, 0);
		g_once_init_leave (&graph_media_modelos_dialogo_type_id__volatile, graph_media_modelos_dialogo_type_id);
	}
	return graph_media_modelos_dialogo_type_id__volatile;
}



