/* graphmedia.c generated by valac 0.26.0, the Vala compiler
 * generated from graphmedia.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>


#define GRAPH_MEDIA_MODELOS_TYPE_GRAPH_MEDIA_APP (graph_media_modelos_graph_media_app_get_type ())
#define GRAPH_MEDIA_MODELOS_GRAPH_MEDIA_APP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_GRAPH_MEDIA_APP, GraphMediaModelosGraphMediaApp))
#define GRAPH_MEDIA_MODELOS_GRAPH_MEDIA_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_GRAPH_MEDIA_APP, GraphMediaModelosGraphMediaAppClass))
#define GRAPH_MEDIA_MODELOS_IS_GRAPH_MEDIA_APP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_GRAPH_MEDIA_APP))
#define GRAPH_MEDIA_MODELOS_IS_GRAPH_MEDIA_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_GRAPH_MEDIA_APP))
#define GRAPH_MEDIA_MODELOS_GRAPH_MEDIA_APP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_GRAPH_MEDIA_APP, GraphMediaModelosGraphMediaAppClass))

typedef struct _GraphMediaModelosGraphMediaApp GraphMediaModelosGraphMediaApp;
typedef struct _GraphMediaModelosGraphMediaAppClass GraphMediaModelosGraphMediaAppClass;
typedef struct _GraphMediaModelosGraphMediaAppPrivate GraphMediaModelosGraphMediaAppPrivate;

#define GRAPH_MEDIA_MODELOS_TYPE_APP_GUI (graph_media_modelos_app_gui_get_type ())
#define GRAPH_MEDIA_MODELOS_APP_GUI(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_APP_GUI, GraphMediaModelosAppGUI))
#define GRAPH_MEDIA_MODELOS_APP_GUI_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_APP_GUI, GraphMediaModelosAppGUIClass))
#define GRAPH_MEDIA_MODELOS_IS_APP_GUI(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_APP_GUI))
#define GRAPH_MEDIA_MODELOS_IS_APP_GUI_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_APP_GUI))
#define GRAPH_MEDIA_MODELOS_APP_GUI_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_APP_GUI, GraphMediaModelosAppGUIClass))

typedef struct _GraphMediaModelosAppGUI GraphMediaModelosAppGUI;
typedef struct _GraphMediaModelosAppGUIClass GraphMediaModelosAppGUIClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define GRAPH_MEDIA_MODELOS_TYPE_APP_PREFERENCES (graph_media_modelos_app_preferences_get_type ())
#define GRAPH_MEDIA_MODELOS_APP_PREFERENCES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRAPH_MEDIA_MODELOS_TYPE_APP_PREFERENCES, GraphMediaModelosAppPreferences))
#define GRAPH_MEDIA_MODELOS_APP_PREFERENCES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRAPH_MEDIA_MODELOS_TYPE_APP_PREFERENCES, GraphMediaModelosAppPreferencesClass))
#define GRAPH_MEDIA_MODELOS_IS_APP_PREFERENCES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRAPH_MEDIA_MODELOS_TYPE_APP_PREFERENCES))
#define GRAPH_MEDIA_MODELOS_IS_APP_PREFERENCES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRAPH_MEDIA_MODELOS_TYPE_APP_PREFERENCES))
#define GRAPH_MEDIA_MODELOS_APP_PREFERENCES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRAPH_MEDIA_MODELOS_TYPE_APP_PREFERENCES, GraphMediaModelosAppPreferencesClass))

typedef struct _GraphMediaModelosAppPreferences GraphMediaModelosAppPreferences;
typedef struct _GraphMediaModelosAppPreferencesClass GraphMediaModelosAppPreferencesClass;

struct _GraphMediaModelosGraphMediaApp {
	GtkApplication parent_instance;
	GraphMediaModelosGraphMediaAppPrivate * priv;
};

struct _GraphMediaModelosGraphMediaAppClass {
	GtkApplicationClass parent_class;
};

struct _GraphMediaModelosGraphMediaAppPrivate {
	GraphMediaModelosAppGUI* window;
};


static gpointer graph_media_modelos_graph_media_app_parent_class = NULL;
extern gchar* graph_media_modelos_graph_media_app_ubicacion_bd;
gchar* graph_media_modelos_graph_media_app_ubicacion_bd = NULL;

GType graph_media_modelos_graph_media_app_get_type (void) G_GNUC_CONST;
GType graph_media_modelos_app_gui_get_type (void) G_GNUC_CONST;
#define GRAPH_MEDIA_MODELOS_GRAPH_MEDIA_APP_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), GRAPH_MEDIA_MODELOS_TYPE_GRAPH_MEDIA_APP, GraphMediaModelosGraphMediaAppPrivate))
enum  {
	GRAPH_MEDIA_MODELOS_GRAPH_MEDIA_APP_DUMMY_PROPERTY
};
GraphMediaModelosGraphMediaApp* graph_media_modelos_graph_media_app_new (void);
GraphMediaModelosGraphMediaApp* graph_media_modelos_graph_media_app_construct (GType object_type);
static void graph_media_modelos_graph_media_app_real_activate (GApplication* base);
GraphMediaModelosAppGUI* graph_media_modelos_app_gui_new (GtkApplication* application);
GraphMediaModelosAppGUI* graph_media_modelos_app_gui_construct (GType object_type, GtkApplication* application);
static void graph_media_modelos_graph_media_app_real_open (GApplication* base, GFile** files, int files_length1, const gchar* hint);
void graph_media_modelos_app_gui_open (GraphMediaModelosAppGUI* self, GFile* file);
static void graph_media_modelos_graph_media_app_preferences (GraphMediaModelosGraphMediaApp* self);
GType graph_media_modelos_app_preferences_get_type (void) G_GNUC_CONST;
GraphMediaModelosAppPreferences* graph_media_modelos_app_preferences_new (GraphMediaModelosAppGUI* window);
GraphMediaModelosAppPreferences* graph_media_modelos_app_preferences_construct (GType object_type, GraphMediaModelosAppGUI* window);
static void graph_media_modelos_graph_media_app_real_startup (GApplication* base);
static void _graph_media_modelos_graph_media_app_preferences_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void _g_application_quit_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void graph_media_modelos_graph_media_app_finalize (GObject* obj);


GraphMediaModelosGraphMediaApp* graph_media_modelos_graph_media_app_construct (GType object_type) {
	GraphMediaModelosGraphMediaApp * self = NULL;
	GApplicationFlags _tmp0_ = 0;
	GApplicationFlags _tmp1_ = 0;
	self = (GraphMediaModelosGraphMediaApp*) g_object_new (object_type, NULL);
	g_application_set_application_id ((GApplication*) self, "org.gtk.graphmedia");
	_tmp0_ = g_application_get_flags ((GApplication*) self);
	_tmp1_ = _tmp0_;
	g_application_set_flags ((GApplication*) self, _tmp1_ | G_APPLICATION_HANDLES_OPEN);
	return self;
}


GraphMediaModelosGraphMediaApp* graph_media_modelos_graph_media_app_new (void) {
	return graph_media_modelos_graph_media_app_construct (GRAPH_MEDIA_MODELOS_TYPE_GRAPH_MEDIA_APP);
}


static void graph_media_modelos_graph_media_app_real_activate (GApplication* base) {
	GraphMediaModelosGraphMediaApp * self;
	GraphMediaModelosAppGUI* _tmp0_ = NULL;
	GraphMediaModelosAppGUI* _tmp1_ = NULL;
	self = (GraphMediaModelosGraphMediaApp*) base;
	_tmp0_ = graph_media_modelos_app_gui_new ((GtkApplication*) self);
	g_object_ref_sink (_tmp0_);
	_g_object_unref0 (self->priv->window);
	self->priv->window = _tmp0_;
	_tmp1_ = self->priv->window;
	gtk_window_present ((GtkWindow*) _tmp1_);
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void graph_media_modelos_graph_media_app_real_open (GApplication* base, GFile** files, int files_length1, const gchar* hint) {
	GraphMediaModelosGraphMediaApp * self;
	GraphMediaModelosAppGUI* _tmp0_ = NULL;
	GFile** _tmp2_ = NULL;
	gint _tmp2__length1 = 0;
	GraphMediaModelosAppGUI* _tmp6_ = NULL;
	self = (GraphMediaModelosGraphMediaApp*) base;
	g_return_if_fail (hint != NULL);
	_tmp0_ = self->priv->window;
	if (_tmp0_ == NULL) {
		GraphMediaModelosAppGUI* _tmp1_ = NULL;
		_tmp1_ = graph_media_modelos_app_gui_new ((GtkApplication*) self);
		g_object_ref_sink (_tmp1_);
		_g_object_unref0 (self->priv->window);
		self->priv->window = _tmp1_;
	}
	_tmp2_ = files;
	_tmp2__length1 = files_length1;
	{
		GFile** file_collection = NULL;
		gint file_collection_length1 = 0;
		gint _file_collection_size_ = 0;
		gint file_it = 0;
		file_collection = _tmp2_;
		file_collection_length1 = _tmp2__length1;
		for (file_it = 0; file_it < _tmp2__length1; file_it = file_it + 1) {
			GFile* _tmp3_ = NULL;
			GFile* file = NULL;
			_tmp3_ = _g_object_ref0 (file_collection[file_it]);
			file = _tmp3_;
			{
				GraphMediaModelosAppGUI* _tmp4_ = NULL;
				GFile* _tmp5_ = NULL;
				_tmp4_ = self->priv->window;
				_tmp5_ = file;
				graph_media_modelos_app_gui_open (_tmp4_, _tmp5_);
				_g_object_unref0 (file);
			}
		}
	}
	_tmp6_ = self->priv->window;
	gtk_window_present ((GtkWindow*) _tmp6_);
}


static void graph_media_modelos_graph_media_app_preferences (GraphMediaModelosGraphMediaApp* self) {
	GraphMediaModelosAppPreferences* prefs = NULL;
	GraphMediaModelosAppGUI* _tmp0_ = NULL;
	GraphMediaModelosAppPreferences* _tmp1_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->window;
	_tmp1_ = graph_media_modelos_app_preferences_new (_tmp0_);
	g_object_ref_sink (_tmp1_);
	prefs = _tmp1_;
	gtk_window_present ((GtkWindow*) prefs);
	_g_object_unref0 (prefs);
}


static void _graph_media_modelos_graph_media_app_preferences_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	graph_media_modelos_graph_media_app_preferences ((GraphMediaModelosGraphMediaApp*) self);
}


static void _g_application_quit_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	g_application_quit ((GApplication*) self);
}


static void graph_media_modelos_graph_media_app_real_startup (GApplication* base) {
	GraphMediaModelosGraphMediaApp * self;
	GSimpleAction* action = NULL;
	GSimpleAction* _tmp0_ = NULL;
	GSimpleAction* _tmp1_ = NULL;
	GSimpleAction* _tmp2_ = NULL;
	GSimpleAction* _tmp3_ = NULL;
	GSimpleAction* _tmp4_ = NULL;
	GSimpleAction* _tmp5_ = NULL;
	GtkBuilder* builder = NULL;
	GtkBuilder* _tmp6_ = NULL;
	GMenuModel* app_menu = NULL;
	GObject* _tmp7_ = NULL;
	GMenuModel* _tmp8_ = NULL;
	self = (GraphMediaModelosGraphMediaApp*) base;
	G_APPLICATION_CLASS (graph_media_modelos_graph_media_app_parent_class)->startup ((GApplication*) G_TYPE_CHECK_INSTANCE_CAST (self, gtk_application_get_type (), GtkApplication));
	_tmp0_ = g_simple_action_new ("preferences", NULL);
	action = _tmp0_;
	_tmp1_ = action;
	g_signal_connect_object (_tmp1_, "activate", (GCallback) _graph_media_modelos_graph_media_app_preferences_g_simple_action_activate, self, 0);
	_tmp2_ = action;
	g_action_map_add_action ((GActionMap*) self, (GAction*) _tmp2_);
	_tmp3_ = g_simple_action_new ("quit", NULL);
	_g_object_unref0 (action);
	action = _tmp3_;
	_tmp4_ = action;
	g_signal_connect_object (_tmp4_, "activate", (GCallback) _g_application_quit_g_simple_action_activate, (GApplication*) self, 0);
	_tmp5_ = action;
	g_action_map_add_action ((GActionMap*) self, (GAction*) _tmp5_);
	gtk_application_add_accelerator ((GtkApplication*) self, "<Ctrl>Q", "app.quit", NULL);
	_tmp6_ = gtk_builder_new_from_resource ("/org/gtk/graphmedia/app-menu.ui");
	builder = _tmp6_;
	_tmp7_ = gtk_builder_get_object (builder, "appmenu");
	_tmp8_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp7_, g_menu_model_get_type ()) ? ((GMenuModel*) _tmp7_) : NULL);
	app_menu = _tmp8_;
	gtk_application_set_app_menu ((GtkApplication*) self, app_menu);
	_g_object_unref0 (app_menu);
	_g_object_unref0 (builder);
	_g_object_unref0 (action);
}


static void graph_media_modelos_graph_media_app_class_init (GraphMediaModelosGraphMediaAppClass * klass) {
	gchar* _tmp0_ = NULL;
	graph_media_modelos_graph_media_app_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (GraphMediaModelosGraphMediaAppPrivate));
	((GApplicationClass *) klass)->activate = graph_media_modelos_graph_media_app_real_activate;
	((GApplicationClass *) klass)->open = graph_media_modelos_graph_media_app_real_open;
	((GApplicationClass *) klass)->startup = graph_media_modelos_graph_media_app_real_startup;
	G_OBJECT_CLASS (klass)->finalize = graph_media_modelos_graph_media_app_finalize;
	_tmp0_ = g_strdup ("src/test/base_prueba.db");
	graph_media_modelos_graph_media_app_ubicacion_bd = _tmp0_;
}


static void graph_media_modelos_graph_media_app_instance_init (GraphMediaModelosGraphMediaApp * self) {
	self->priv = GRAPH_MEDIA_MODELOS_GRAPH_MEDIA_APP_GET_PRIVATE (self);
}


static void graph_media_modelos_graph_media_app_finalize (GObject* obj) {
	GraphMediaModelosGraphMediaApp * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRAPH_MEDIA_MODELOS_TYPE_GRAPH_MEDIA_APP, GraphMediaModelosGraphMediaApp);
	_g_object_unref0 (self->priv->window);
	G_OBJECT_CLASS (graph_media_modelos_graph_media_app_parent_class)->finalize (obj);
}


GType graph_media_modelos_graph_media_app_get_type (void) {
	static volatile gsize graph_media_modelos_graph_media_app_type_id__volatile = 0;
	if (g_once_init_enter (&graph_media_modelos_graph_media_app_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraphMediaModelosGraphMediaAppClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) graph_media_modelos_graph_media_app_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraphMediaModelosGraphMediaApp), 0, (GInstanceInitFunc) graph_media_modelos_graph_media_app_instance_init, NULL };
		GType graph_media_modelos_graph_media_app_type_id;
		graph_media_modelos_graph_media_app_type_id = g_type_register_static (gtk_application_get_type (), "GraphMediaModelosGraphMediaApp", &g_define_type_info, 0);
		g_once_init_leave (&graph_media_modelos_graph_media_app_type_id__volatile, graph_media_modelos_graph_media_app_type_id);
	}
	return graph_media_modelos_graph_media_app_type_id__volatile;
}



